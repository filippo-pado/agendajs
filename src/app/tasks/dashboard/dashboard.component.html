<task-form [actionToPerform]="taskForm.actionToPerform" [task]="taskForm.task" (taskUpdated)="taskUpdated($event)">>
</task-form>
<md-card *ngFor='let table of tables'>
    <md-card-content fxLayout="column">
        <div class='cardTitle'>
            <button md-fab>
                <md-icon>{{table.tableIcon}}</md-icon>
            </button>
            {{table.title}}
        </div>
        <div class="table-row header" fxLayout="row" fxLayout.xs="column">
            <div class="icon"></div>
            <div class="description" fxFlex="grow" [ngStyle.xs]="{'text-align': 'center'}">Descrizione</div>
            <div fxLayout="row" fxLayout.sm="column" fxFlexAlign="center">
                <div class="text">Data</div>
                <div class="text">Periodicit√†</div>
            </div>
            <div class="buttons"></div>
        </div>
        <div class="table-row" fxLayout="row" fxLayout.xs="column" *ngFor='let task of taskLists[table.list]'>
            <div fxFlexAlign="center">
                <div class="icon">
                    <md-icon *ngIf='task.priority==1'>snooze</md-icon>
                    <md-icon *ngIf='task.priority==2'>note</md-icon>
                    <md-icon *ngIf='task.priority==3'>priority_high</md-icon>
                </div>
            </div>
            <div class="description" fxFlex="grow" fxFlexAlign.gt-xs="center" [ngStyle.xs]="{'text-align': 'center'}">{{task.description}}</div>
            <div fxLayout="row" fxLayout.sm="column" fxFlexAlign="center">
                <div class="text">{{task.doneDate | date:'yyyy-MM-dd'}}</div>
                <div class="text">{{task.taskDate | date:'yyyy-MM-dd'}}</div>
                <div class="text">{{frequencyMap[task.frequency]}}</div>
            </div>
            <div class="buttons">
                <button md-mini-fab color='primary' *ngIf='table.action=="checkTask"' (click)='checkTask(task)'>
                    <md-icon>check</md-icon>
                </button>
                <button md-mini-fab color='primary' *ngIf='table.action=="uncheckTask"' (click)='uncheckTask(task)'>
                    <md-icon>clear</md-icon>
                </button>
                <button md-mini-fab color='accent' (click)='editTask(task)'>
                    <md-icon>edit</md-icon>
                </button>
                <button md-mini-fab color='warn' (click)='deleteTask(task)'>
                    <md-icon>delete</md-icon>
                </button>
            </div>
        </div>
    </md-card-content>
</md-card>
