<task-form [taskObserver]="taskForm.asObservable()" (taskUpdated)="taskUpdated($event)" (taskCreated)="taskCreated($event)">
</task-form>
<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
    <div fxFlex.gt-sm='50%' *ngFor='let list of lists'>
        <md-card>
            <md-card-content>
                <h2>{{list.title}}</h2>
                <div fxLayout="row" class="list-item" *ngFor='let task of taskLists[list.list]'>
                    <div fxFlex='40px' fxLayoutAlign='base center'>
                        <md-checkbox *ngIf="list.list=='todo'" (click)='checkTask(task)'></md-checkbox>
                        <md-checkbox [checked]="true" *ngIf="list.list=='done'" (click)='uncheckTask(task)'></md-checkbox>
                    </div>
                    <div fxFlex='calc(100%-140px)' fxLayout="column">
                        <div (click)="task.showFull=!task.showFull">
                            <div *ngIf="!task.showFull" class="description-wrapped description">{{task.description}}</div>
                            <div *ngIf="task.showFull" class="description">{{task.description}}</div>
                            <div class='date-row'>
                                <md-icon class='date-icon'>assignment</md-icon> {{task.taskDate | date:'yyyy-MM-dd' | frequency: task.frequency}} &nbsp;&nbsp;&nbsp; <span *ngIf='task.doneDate'><md-icon class='date-icon'>assignment_turned_in</md-icon> {{task.doneDate | date:'yyyy-MM-dd'}}</span>
                            </div>
                        </div>
                    </div>
                    <div fxFlex='80px' fxLayout='row' fxLayoutAlign='base center'>
                        <button md-mini-fab color='primary' (click)='taskForm.next(task)'>
                            <md-icon>edit</md-icon>
                        </button>
                        <button md-mini-fab color='warn' (click)='deleteTask(task)'>
                            <md-icon>delete</md-icon>
                        </button>
                    </div>
                </div>
            </md-card-content>
        </md-card>
    </div>
</div>
